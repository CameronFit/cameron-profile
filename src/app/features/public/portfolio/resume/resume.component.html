<section class="resume-shell">
  <mat-toolbar class="bar">
    <button mat-button (click)="back()">
      <mat-icon>arrow_back</mat-icon>
      Back
    </button>

    <span class="title">{{ currentDocLabel() }}</span>
    <span class="spacer"></span>

    <!-- Switcher -->
    <button mat-stroked-button (click)="show('resume')" [disabled]="isResume()">
      <mat-icon>description</mat-icon> Résumé
    </button>
    <button mat-stroked-button (click)="show('cover')" [disabled]="!isResume()">
      <mat-icon>drafts</mat-icon> Cover Letter
    </button>

    <a mat-stroked-button [href]="plainUrl()" target="_blank" rel="noopener">
      <mat-icon>open_in_new</mat-icon> Open
    </a>
    <a mat-button [href]="plainUrl()" download>
      <mat-icon>download</mat-icon> Download
    </a>
    <button mat-button (click)="print()">
      <mat-icon>print</mat-icon> Print
    </button>
  </mat-toolbar>

  <div class="viewer">
    <!-- Use SAFE value in resource URL context -->
    <object
      [attr.data]="safeUrl()"
      type="application/pdf"
      class="doc"
      [attr.aria-label]="currentDocLabel() + ' PDF'"
    >
      <p>
        Your browser can’t display PDFs.
        <a [href]="plainUrl()" target="_blank" rel="noopener"
          >Open {{ currentDocLabel() }}</a
        >
        or use the Download button.
      </p>
    </object>
  </div>
</section>
