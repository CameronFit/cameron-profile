<section class="contact-hero">
  <div>
    <h1>Get In Touch</h1>
    <p class="contact-lead">
      Have a question or want to work together? I'd love to hear from you.
    </p>
  </div>
</section>

<section class="contact-container">
  <!-- Main Content Grid -->
  <div class="contact-grid">
    <!-- Contact Form -->
    <div class="contact-form-section">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Your name" />
          @if (name?.invalid && name?.touched) {
          <mat-error>Name is required (minimum 2 characters)</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" placeholder="your.email@example.com" />
          @if (email?.invalid && email?.touched) {
          <mat-error>Please enter a valid email address</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Subject</mat-label>
          <input matInput formControlName="subject" placeholder="What is this about?" />
          @if (subject?.invalid && subject?.touched) {
          <mat-error>Subject is required (minimum 5 characters)</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width message-field">
          <mat-label>Message</mat-label>
          <textarea matInput formControlName="message" placeholder="Your message..." rows="6"></textarea>
          @if (message?.invalid && message?.touched) {
          <mat-error>Message is required (minimum 10 characters)</mat-error>
          }
        </mat-form-field>

        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="contactForm.invalid || isSubmitting()"
          class="submit-button"
        >
          @if (isSubmitting()) {
          <mat-spinner diameter="20"></mat-spinner>
          <span>Sending...</span>
          } @else {
          <ng-container>
            <mat-icon>send</mat-icon>
            <span>Send Message</span>
          </ng-container>
          }
        </button>

        @if (submitSuccess()) {
        <div class="success-message">
          <mat-icon>check_circle</mat-icon>
          <span>Thank you! I'll get back to you soon.</span>
        </div>
        }
      </form>
    </div>

    <!-- Contact Info Sidebar -->
    <div class="contact-info-section">
      <!-- Contact Details -->
      <div class="info-card">
        <h2>Contact Information</h2>
        @for (info of contactInfo(); track info.label) {
        <div class="contact-item">
          <mat-icon class="contact-icon">{{ info.icon }}</mat-icon>
          <div class="contact-content">
            <h3>{{ info.label }}</h3>
            @if (info.href) {
            <a [href]="info.href">{{ info.value }}</a>
            } @else {
            <p>{{ info.value }}</p>
            }
          </div>
        </div>
        }
      </div>

      <!-- Social Links -->
      <div class="info-card">
        <h2>Follow Me</h2>
        <div class="social-links">
          @for (social of socialLinks(); track social.label) {
          <a [href]="social.url" target="_blank" rel="noopener noreferrer" [title]="social.label" class="social-link">
            <mat-icon>link</mat-icon>
            <span>{{ social.label }}</span>
          </a>
          }
        </div>
      </div>

      <!-- Quick Links -->
      <div class="info-card">
        <h2>Quick Links</h2>
        <nav class="quick-links">
          <a href="/profile" class="quick-link">
            <mat-icon>person</mat-icon>
            <span>View Profile</span>
          </a>
          <a href="/resume" class="quick-link">
            <mat-icon>description</mat-icon>
            <span>View Resume</span>
          </a>
        </nav>
      </div>
    </div>
  </div>
</section>
